{"version":3,"sources":["../src/defaultRenderErrorSummary.js"],"names":["React","PropTypes","focusField","fieldId","element","document","getElementById","focus","rect","getBoundingClientRect","window","scrollTo","y","renderItem","id","label","message","e","preventDefault","renderField","field","errors","length","error","items","push","children","forEach","child","summaryLabel","ErrorSummary","props","state","submitCount","summaryData","reduce","Component","propTypes","number","isRequired","array","defaultRenderErrorSummary"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,OAAO,EAAI;AAC7B,MAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,OAAxB,CAAhB;;AAEA,MAAIC,OAAO,IAAIA,OAAO,CAACG,KAAvB,EAA8B;AAC7BH,IAAAA,OAAO,CAACG,KAAR;AAEA,QAAMC,IAAI,GAAGJ,OAAO,CAACK,qBAAR,EAAb;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmBH,IAAI,CAACI,CAAxB;AACA;AACD,CATD;;AAWA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,EAAD,EAAKC,KAAL,EAAYC,OAAZ,EAAwB;AAC1C,SACC;AAAI,IAAA,GAAG,EAAEF,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AACC,IAAA,OAAO,EAAE,iBAAAG,CAAC,EAAI;AACbA,MAAAA,CAAC,CAACC,cAAF;AAEAhB,MAAAA,UAAU,CAACY,EAAD,CAAV;AACA,KALF;AAMC,IAAA,IAAI,aAAMA,EAAN,CANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQEC,KARF,QAQWC,OARX,CADD,CADD;AAcA,CAfD;;AAiBA,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAC5B,MAAI,CAACA,KAAK,CAACC,MAAP,IAAiB,CAACD,KAAK,CAACC,MAAN,CAAaC,MAAnC,EAA2C;AAC1C,WAAO,IAAP;AACA;;AAED,MAAMC,KAAK,GAAGH,KAAK,CAACC,MAAN,CAAa,CAAb,CAAd;;AAEA,MAAIE,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;AACvC,WAAO,CAACV,UAAU,CAACO,KAAK,CAACjB,OAAP,EAAgBiB,KAAK,CAACL,KAAtB,EAA6BQ,KAA7B,CAAX,CAAP;AACA;;AAED,MAAMC,KAAK,GAAG,EAAd;;AAEA,MAAID,KAAK,IAAIA,KAAK,CAACP,OAAnB,EAA4B;AAC3BQ,IAAAA,KAAK,CAACC,IAAN,CAAWZ,UAAU,CAACO,KAAK,CAACjB,OAAP,EAAgBiB,KAAK,CAACL,KAAtB,EAA6BQ,KAAK,CAACP,OAAnC,CAArB;AACA;;AAED,MAAIO,KAAK,IAAIA,KAAK,CAACG,QAAf,IAA2BH,KAAK,CAACG,QAAN,CAAeJ,MAA9C,EAAsD;AACrDC,IAAAA,KAAK,CAACG,QAAN,CAAeC,OAAf,CAAuB,UAAAC,KAAK,EAAI;AAC/BJ,MAAAA,KAAK,CAACC,IAAN,CAAWZ,UAAU,CAACO,KAAK,CAACjB,OAAP,EAAgByB,KAAK,CAACC,YAAtB,EAAoCD,KAAK,CAACZ,OAA1C,CAArB;AACA,KAFD;AAGA;;AAED,SAAOQ,KAAP;AACA,CAxBD;;IA0BMM,Y;;;;;AAML,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,sFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,WAAW,EAAE,MAAKF,KAAL,CAAWE,WADZ;AAEZC,MAAAA,WAAW,EAAE,MAAKH,KAAL,CAAWG;AAFZ,KAAb;AAFkB;AAMlB;;;;6BAaQ;AACR,aACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKF,KAAL,CAAWE,WAAX,CAAuBC,MAAvB,CAA8B,UAACX,KAAD,EAAQJ,KAAR,EAAkB;AAChD,4CACII,KADJ,sBAEIL,WAAW,CAACC,KAAD,CAFf;AAIA,OALA,EAKE,EALF,CADF,CADD;AAUA;;;6CAtB+BW,K,EAAOC,K,EAAO;AAC7C,UAAID,KAAK,CAACE,WAAN,KAAsBD,KAAK,CAACC,WAAhC,EAA6C;AAC5C,eAAO;AACNA,UAAAA,WAAW,EAAEF,KAAK,CAACE,WADb;AAENC,UAAAA,WAAW,EAAEH,KAAK,CAACG;AAFb,SAAP;AAIA;;AAED,aAAO,IAAP;AACA;;;;EAvByBlC,KAAK,CAACoC,S;AAuCjC;;;AAvCMN,Y,CACEO,S,GAAY;AAClBJ,EAAAA,WAAW,EAAEhC,SAAS,CAACqC,MAAV,CAAiBC,UADZ;AAElBL,EAAAA,WAAW,EAAEjC,SAAS,CAACuC,KAAV,CAAgBD;AAFX,C;;AAuCpB,IAAME,yBAAyB,GAAG,SAA5BA,yBAA4B,OAAgC;AAAA,MAA9BP,WAA8B,QAA9BA,WAA8B;AAAA,MAAjBD,WAAiB,QAAjBA,WAAiB;AACjE,SACC,oBAAC,YAAD;AAAc,IAAA,WAAW,EAAEA,WAA3B;AAAwC,IAAA,WAAW,EAAEC,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD;AAGA,CAJD;AAKA;;;AAEA,eAAeO,yBAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst focusField = fieldId => {\n\tconst element = document.getElementById(fieldId);\n\n\tif (element && element.focus) {\n\t\telement.focus();\n\n\t\tconst rect = element.getBoundingClientRect();\n\t\twindow.scrollTo(0, rect.y);\n\t}\n};\n\nconst renderItem = (id, label, message) => {\n\treturn (\n\t\t<li key={id}>\n\t\t\t<a\n\t\t\t\tonClick={e => {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tfocusField(id);\n\t\t\t\t}}\n\t\t\t\thref={`#${id}`}\n\t\t\t>\n\t\t\t\t{label}: {message}\n\t\t\t</a>\n\t\t</li>\n\t);\n};\n\nconst renderField = field => {\n\tif (!field.errors || !field.errors.length) {\n\t\treturn null;\n\t}\n\n\tconst error = field.errors[0];\n\n\tif (error && typeof error === 'string') {\n\t\treturn [renderItem(field.fieldId, field.label, error)];\n\t}\n\n\tconst items = [];\n\n\tif (error && error.message) {\n\t\titems.push(renderItem(field.fieldId, field.label, error.message));\n\t}\n\n\tif (error && error.children && error.children.length) {\n\t\terror.children.forEach(child => {\n\t\t\titems.push(renderItem(field.fieldId, child.summaryLabel, child.message));\n\t\t});\n\t}\n\n\treturn items;\n};\n\nclass ErrorSummary extends React.Component {\n\tstatic propTypes = {\n\t\tsubmitCount: PropTypes.number.isRequired,\n\t\tsummaryData: PropTypes.array.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsubmitCount: this.props.submitCount,\n\t\t\tsummaryData: this.props.summaryData,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tif (props.submitCount !== state.submitCount) {\n\t\t\treturn {\n\t\t\t\tsubmitCount: props.submitCount,\n\t\t\t\tsummaryData: props.summaryData,\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ul>\n\t\t\t\t{this.state.summaryData.reduce((items, field) => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...items,\n\t\t\t\t\t\t...renderField(field),\n\t\t\t\t\t];\n\t\t\t\t}, [])}\n\t\t\t</ul>\n\t\t);\n\t};\n}\n\n/* eslint-disable react/prop-types */\nconst defaultRenderErrorSummary = ({summaryData, submitCount}) => {\n\treturn (\n\t\t<ErrorSummary submitCount={submitCount} summaryData={summaryData} />\n\t);\n};\n/* eslint-enable react/prop-types */\n\nexport default defaultRenderErrorSummary;\n"],"file":"defaultRenderErrorSummary.js"}